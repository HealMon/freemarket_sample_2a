.container
  %header.header
    %h1
      = link_to root_path do
        = image_tag "https://www-mercari-jp.akamaized.net/assets/img/common/common/logo.svg?3054050720"
  
    -#header bar
    %nav.signup-bar
      %oi.clearfix
        %li.through
          会員情報
          .progress-status
        %li.through
          電話番号認証
          .progress-status
        %li.through
          お届け先住所入力
          .progress-status
        %li.active
          支払い方法
          .progress-status
        %li
          完了
          .progress-status

  %main.main
    %section.container-main
      %h2.container-main__head
        支払い方法
      %hr
      = form_for @credit_card, url: congrats_signup_index_path, method: :post, html: {class: 'new_user'} do |f|
        .container-main__inner__content
          .form-group
            .field
              = f.label "カード番号"
              %span.form-group--require 必須
              = f.text_field :card_number, class: "input-default", placeholder: "半角数字のみ" 
              - if @credit_card.errors.messages[:card_number].present?
                - @credit_card.errors.messages[:card_number].each do |message|
                  %ul.error-message
                    %li= "カード番号#{message}"
              = image_tag 'card-brand-list.png', height: '25'
          .form-group
            .field
              = f.label "有効期限"
              %span.form-group--require 必須
              %br/
              .select-wrap
                = f.select :exporation_year, options_for_select(19..25),{prompt: "---"},class:'year'
                = f.label :"年"
                - if @credit_card.errors.messages[:exporation_year].present?
                  - @credit_card.errors.messages[:exporation_year].each do |message|
                    %ul.error-message
                      %li= "年#{message}"
                = f.select :exporation_month, options_for_select(1..12),{prompt: "---"},class: 'month'
                = f.label :"月"
                - if @credit_card.errors.messages[:exporation_month].present?
                  - @credit_card.errors.messages[:exporation_month].each do |message|
                    %ul.error-message
                      %li= "月#{message}"
          .form-group
            .field
              = f.label "セキュリティコード"
              %span.form-group--require 必須
              = f.text_field :cvc, class: "input-default", placeholder: "カード背面4桁もしくは3桁の番号" 
              - if @credit_card.errors.messages[:cvc].present?
                - @credit_card.errors.messages[:cvc].each do |message|
                  %ul.error-message
                    %li= "セキュリティコード#{message}"
              %p.container-main__text-right
                %a{href:"https://www.mercari.com/jp/help_center/article/423/"}
                  = fa_icon 'question-circle'
                  カード裏面の番号とは？
        .container-main__inner__content.pt-5
          .form-group
            %button.btn-default.btn-red{type: "submit"} 次へ進む
            .form-group.text-right
      
      = render 'devise/shared/footer'